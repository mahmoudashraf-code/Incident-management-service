"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[211],{9211:(tt,g,a)=>{a.r(g),a.d(g,{UsersModule:()=>W});var m=a(6895),C=a(7392),Z=a(4859),l=a(7155),s=a(4006),_=a(4144),T=a(9299),d=a(7974),w=a(8039),c=a(737),u=a(8869),t=a(4650),v=a(900),N=a(1598),f=a(5412),x=a(9549),b=a(8229);const D=function(e){return{icon:"person",name:e}};let U=(()=>{class e{constructor(n,i,r,p){this.app=n,this.tabs=i,this.route=r,this.dialog=p,this.userId="",this.buttons=[{icon:"save",action:()=>this.save()}],this.userData=new s.cw({email:new s.NI("",[s.kI.required]),name:new s.NI("",[s.kI.required]),password:new s.NI("",[s.kI.required]),role:new s.NI(1,[s.kI.required])})}ngOnInit(){this.route.params.subscribe(n=>{this.userId=n.id,"addNew"==n.id?this.userData.setValue({name:"",email:"",password:"",role:1}):this.getData(this.userId)})}getData(n){this.app.loading=!0,this.app.get(`users/${n}`).subscribe(i=>{this.userData.reset(),this.app.loading=!1},()=>{this.app.loading=!1,this.tabs.pop()})}save(){this.userData.valid?"addNew"==this.userId?this.addNew():this.update():this.dialog.open(u.I)}update(){this.app.loading=!0,this.app.put(`users/${this.userId}`,{user:this.userData.value}).subscribe(n=>{this.app.loading=!1,this.dialog.open(c.P),this.tabs.pop()},n=>{this.dialog.open(u.I),this.app.loading=!1})}addNew(){this.app.loading=!0,this.app.post("users",{user:this.userData.value}).subscribe(n=>{this.app.loading=!1,this.dialog.open(c.P),this.tabs.pop()},n=>{this.dialog.open(u.I),this.app.loading=!1})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(v.z),t.Y36(N.x),t.Y36(T.gz),t.Y36(f.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-edited"]],decls:18,vars:5,consts:[[3,"data","buttons"],["body",""],[1,"imgData"],["src","/favicon.ico","draggable","false",1,"avatar"],[3,"formGroup"],["appearance","outline"],["matInput","","formControlName","name"],["matInput","","formControlName","email"],["matInput","","formControlName","password"]],template:function(n,i){1&n&&(t.TgZ(0,"app-page",0)(1,"div",1)(2,"div",2)(3,"div"),t._UZ(4,"img",3),t.qZA()(),t.TgZ(5,"form",4)(6,"mat-form-field",5)(7,"mat-label"),t._uU(8,"Name"),t.qZA(),t._UZ(9,"input",6),t.qZA(),t.TgZ(10,"mat-form-field",5)(11,"mat-label"),t._uU(12,"Email"),t.qZA(),t._UZ(13,"input",7),t.qZA(),t.TgZ(14,"mat-form-field",5)(15,"mat-label"),t._uU(16,"password"),t.qZA(),t._UZ(17,"input",8),t.qZA()()()()),2&n&&(t.Q6J("data",t.VKq(3,D,i.userId))("buttons",i.buttons),t.xp6(5),t.Q6J("formGroup",i.userData))},dependencies:[x.KE,x.hX,_.Nt,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,b.I],styles:["form[_ngcontent-%COMP%]{padding:5px}form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.imgData[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:50px}.imgData[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:130px;height:130px;border-radius:50%}"]}),e})();var y=a(2225),h=a(7331);function I(e,o){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Email"),t.qZA())}function A(e,o){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(n.email)}}function Y(e,o){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Name"),t.qZA())}function L(e,o){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.name," ")}}function Q(e,o){1&e&&(t.TgZ(0,"th",16),t._uU(1,"password"),t.qZA())}function J(e,o){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.password," ")}}function M(e,o){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Role"),t.qZA())}function O(e,o){1&e&&(t.ynx(0),t.TgZ(1,"mat-chip",20),t._uU(2,"Admin"),t.qZA(),t.BQk())}function B(e,o){1&e&&(t.ynx(0),t.TgZ(1,"mat-chip",21),t._uU(2,"User"),t.qZA(),t.BQk())}function S(e,o){if(1&e&&(t.TgZ(0,"td",17)(1,"mat-chip-list"),t.ynx(2,18),t.YNc(3,O,3,0,"ng-container",19),t.YNc(4,B,3,0,"ng-container",19),t.BQk(),t.qZA()()),2&e){const n=o.$implicit;t.xp6(2),t.Q6J("ngSwitch",n.role),t.xp6(1),t.Q6J("ngSwitchCase",0),t.xp6(1),t.Q6J("ngSwitchCase",1)}}function P(e,o){1&e&&(t.TgZ(0,"th",22),t._uU(1,"Delete"),t.qZA())}function q(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(n);const r=t.oxw().$implicit,p=t.oxw();return t.KtG(p.deleteItem(r._id))}),t.TgZ(1,"mat-icon"),t._uU(2,"delete"),t.qZA()()}}function H(e,o){if(1&e&&(t.TgZ(0,"td",17),t.YNc(1,q,3,0,"button",23),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Q6J("ngIf",n.role>0)}}function $(e,o){1&e&&t._UZ(0,"td",25)}function E(e,o){1&e&&(t.TgZ(0,"th",22),t._uU(1,"Update"),t.qZA())}function F(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"td",17)(1,"button",26),t.NdJ("click",function(){const p=t.CHM(n).$implicit,V=t.oxw();return t.KtG(V.editedItem(p))}),t.TgZ(2,"mat-icon"),t._uU(3,"drive_file_rename_outline"),t.qZA()()()}}function z(e,o){1&e&&t._UZ(0,"td",25)}function R(e,o){1&e&&t._UZ(0,"tr",27)}function j(e,o){1&e&&t._UZ(0,"tr",28)}const G=function(){return{icon:"people",name:"Users"}},X=function(){return[5,10,20,50]};let k=(()=>{class e{constructor(n,i,r){this.app=n,this.confirm=i,this.dialog=r,this.displayedColumns=["name","email","password","role","delete","update"],this.users=new l.by([]),this.buttons=[{action:()=>this.getData(),icon:"restore"},{action:()=>{this.app.router.navigate(["dashboard","users","addNew"])},icon:"add"}]}ngOnInit(){this.getData()}ngAfterViewInit(){this.users.paginator=this.paginator}getData(){this.app.loading=!0,this.app.get("users").subscribe(n=>{this.app.loading=!1,this.users=new l.by(Object.values(n)),this.users.paginator=this.paginator})}editedItem(n){this.app.router.navigate(["dashboard","users",n._id])}deleteItem(n){this.confirm.confirmDialog({title:"Are You Sure?",message:"Are you sure you want to delete item.",confirmCaption:"Yes",cancelCaption:"No"}).subscribe(i=>{i&&(this.app.loading=!0,this.app.delete(`users/${n}`).subscribe(r=>{this.app.loading=!1,this.dialog.open(c.P),this.getData()}))})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(v.z),t.Y36(y.D),t.Y36(f.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-list"]],viewQuery:function(n,i){if(1&n&&t.Gf(d.NW,5),2&n){let r;t.iGM(r=t.CRH())&&(i.paginator=r.first)}},decls:27,vars:9,consts:[[3,"data","buttons"],["body",""],["mat-table","",3,"dataSource"],["matColumnDef","email"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","password"],["matColumnDef","role"],["matColumnDef","delete"],["mat-header-cell","","style","width: 50px;",4,"matHeaderCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","update"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions","disabled"],["mat-header-cell",""],["mat-cell",""],[3,"ngSwitch"],[4,"ngSwitchCase"],["color","warn","selected",""],["color","accent","selected",""],["mat-header-cell","",2,"width","50px"],["mat-icon-button","","color","warn",3,"click",4,"ngIf"],["mat-icon-button","","color","warn",3,"click"],["mat-footer-cell",""],["mat-icon-button","","color","primary",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(n,i){1&n&&(t.TgZ(0,"app-page",0)(1,"div",1)(2,"div")(3,"table",2),t.ynx(4,3),t.YNc(5,I,2,0,"th",4),t.YNc(6,A,2,1,"td",5),t.BQk(),t.ynx(7,6),t.YNc(8,Y,2,0,"th",4),t.YNc(9,L,2,1,"td",5),t.BQk(),t.ynx(10,7),t.YNc(11,Q,2,0,"th",4),t.YNc(12,J,2,1,"td",5),t.BQk(),t.ynx(13,8),t.YNc(14,M,2,0,"th",4),t.YNc(15,S,5,3,"td",5),t.BQk(),t.ynx(16,9),t.YNc(17,P,2,0,"th",10),t.YNc(18,H,2,1,"td",5),t.YNc(19,$,1,0,"td",11),t.BQk(),t.ynx(20,12),t.YNc(21,E,2,0,"th",10),t.YNc(22,F,4,0,"td",5),t.YNc(23,z,1,0,"td",11),t.BQk(),t.YNc(24,R,1,0,"tr",13),t.YNc(25,j,1,0,"tr",14),t.qZA(),t._UZ(26,"mat-paginator",15),t.qZA()()()),2&n&&(t.Q6J("data",t.DdM(7,G))("buttons",i.buttons),t.xp6(3),t.Q6J("dataSource",i.users),t.xp6(21),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(8,X))("disabled",i.users.data.length<5))},dependencies:[m.O5,m.RF,m.n9,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.mD,l.ge,l.ev,l.yh,l.XQ,l.Gk,d.NW,Z.lW,h.qn,h.HS,b.I,C.Hw],styles:["table[_ngcontent-%COMP%]{width:100%}"]}),e})();var K=a(3546);let W=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.ez,l.p0,_.c,K.QW,s.UX,d.TU,f.Is,Z.ot,h.Hi,w.B,C.Ps,T.Bz.forChild([{path:"",children:[{path:"",component:k},{path:":id",component:U}]}])]}),e})()}}]);